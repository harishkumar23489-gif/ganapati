<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Ganapathy — Mobile Dashboard</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- MOBILE APP SHELL -->
  <div id="app">

    <!-- SPLASH -->
    <div id="splash" class="splash">
      <div class="splash-card"><img src="images/ganesha.png" alt="Ganesha" /><h1>Ganapathy</h1></div>
    </div>

    <!-- AUTH MODAL (mobile centered) -->
    <div id="auth" class="auth modal-visible">
      <div class="auth-card">
        <h2>Sign in / Sign up</h2>
        <input id="email" type="email" placeholder="Email" />
        <input id="password" type="password" placeholder="Password" />
        <div class="row gap">
          <button id="btnSignIn" class="btn primary">Sign In</button>
          <button id="btnSignUp" class="btn ghost">Sign Up</button>
        </div>
        <div class="row gap">
          <button id="btnGoogle" class="btn ghost">Sign in with Google</button>
        </div>
        <p id="authMsg" class="muted small"></p>
        <p class="muted tiny">Super admin: <strong>harishkumar23489@gmail.com</strong></p>
      </div>
    </div>

    <!-- TOP BAR -->
    <header class="topbar">
      <div class="top-left">
        <div id="avatarSmall" class="avatar-sm"></div>
        <div class="title-col">
          <div id="topName" class="title">Welcome</div>
          <div id="topRole" class="muted small">Sign in to continue</div>
        </div>
      </div>
      <div class="top-right">
        <button id="btnMenu" class="icon-btn">⋮</button>
      </div>
    </header>

    <!-- MAIN DASH (mobile view only) -->
    <main id="main" class="main hidden">
      <section class="card hero">
        <div class="hero-left">
          <h2 id="welcomeMsg">Welcome</h2>
          <p class="muted">Ganapathy Festival — Unity in Tradition</p>

          <div class="row between" style="margin-top:12px">
            <div>
              <div class="muted small">Collections Progress</div>
              <canvas id="progress" width="110" height="110"></canvas>
              <div id="progressPct" class="muted small">--%</div>
            </div>
            <div>
              <div class="muted small">Festival Countdown</div>
              <div id="countdown" class="big">--d --h --m</div>
              <div id="nextEvent" class="muted small">Next event: —</div>
            </div>
          </div>
        </div>
      </section>

      <section id="feed" class="card">
        <h3>Events Feed</h3>
        <div id="eventsList" class="list"></div>
      </section>

      <section id="mini" class="card">
        <div class="row between">
          <div>
            <h4>Quick</h4>
            <p class="muted small">Open the menu (⋮) for Chat, Collections, Gallery, Songs</p>
          </div>
          <div><button id="btnRefresh" class="btn small">Refresh</button></div>
        </div>
      </section>
    </main>

    <!-- THREE DOTS MENU (drawer) -->
    <nav id="menu" class="menu hidden">
      <ul>
        <li><button class="menu-item" data-panel="chat">Chat</button></li>
        <li><button class="menu-item" data-panel="collections">Collections</button></li>
        <li><button class="menu-item" data-panel="songs">Songs</button></li>
        <li><button class="menu-item" data-panel="events">Events</button></li>
        <li><button class="menu-item" data-panel="gallery">Gallery</button></li>
        <li><button id="btnAdminPanel" class="menu-item hidden">Admin Panel</button></li>
        <li><button id="btnLogout" class="menu-item hidden">Logout</button></li>
      </ul>
    </nav>

    <!-- PANELS (chat, collections, songs, gallery, admin) -->
    <div id="panelWrap" class="panels hidden">
      <div id="panelChat" class="panel hidden">
        <header class="panel-head"><button class="back">←</button><h3>Group Chat</h3></header>
        <div id="chatWindow" class="chat-window"></div>
        <div class="row gap">
          <input id="chatInput" placeholder="Message..." />
          <button id="chatSend" class="btn small">Send</button>
        </div>
      </div>

      <div id="panelCollections" class="panel hidden">
        <header class="panel-head"><button class="back">←</button><h3>Collections</h3></header>
        <div id="collectionsList" class="list"></div>
      </div>

      <div id="panelSongs" class="panel hidden">
        <header class="panel-head"><button class="back">←</button><h3>Songs</h3></header>
        <div id="songsList" class="list"></div>
        <div class="row gap" style="margin-top:10px">
          <input id="songFile" type="file" accept="audio/*" />
          <button id="btnUploadSong" class="btn small hidden">Upload</button>
        </div>
      </div>

      <div id="panelEvents" class="panel hidden">
        <header class="panel-head"><button class="back">←</button><h3>Events</h3></header>
        <div id="eventsPanelList" class="list"></div>
        <div id="eventForm" class="muted small hidden">
          <input id="evTitle" placeholder="Title" />
          <input id="evWhen" type="datetime-local" />
          <textarea id="evDesc" placeholder="Description"></textarea>
          <button id="btnPostEvent" class="btn small">Post Event</button>
        </div>
      </div>

      <div id="panelGallery" class="panel hidden">
        <header class="panel-head"><button class="back">←</button><h3>Gallery</h3></header>
        <input id="galleryFile" type="file" accept="image/*" multiple />
        <div id="galleryGrid" class="grid"></div>
      </div>

      <div id="panelAdmin" class="panel hidden">
        <header class="panel-head"><button class="back">←</button><h3>Admin Panel</h3></header>
        <div class="card">
          <h4>Pending Approvals</h4>
          <div id="pendingList" class="list"></div>
        </div>
        <div class="card">
          <h4>Promote by Email</h4>
          <input id="promoteEmail" placeholder="email" />
          <button id="btnPromote" class="btn">Promote</button>
        </div>
      </div>
    </div>

  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
